var lr=Object.defineProperty,cr=Object.defineProperties;var ur=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var _t=(e,t,n)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))Ft.call(t,n)&&_t(e,n,t[n]);if(Te)for(var n of Te(t))Lt.call(t,n)&&_t(e,n,t[n]);return e},p=(e,t)=>cr(e,ur(t));var k=(e,t)=>{var n={};for(var r in e)Ft.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Te)for(var r of Te(e))t.indexOf(r)<0&&Lt.call(e,r)&&(n[r]=e[r]);return n};import{u as dr,M as ae,N as fr,a as mr,r as m,i as We,b as O,C as me,R as z,o as A,m as qt,G as rt,j as i,c as N,I as hr,d as pr,e as w,O as Ut,f as ft,g as ot,h as q,k as Oe,l as qe,n as gr,t as Vt,D as yr,F as Ue,p as Ht,q as Xt,s as Ve,v as M,w as G,x as xr,y as Cr,P as mt,A as Ce,z as br,B as vr,E as wr,H as $e,T as Tt,S as ne,J as Sr,K as ht,L as kr,Q as _,U as L,V as E,W as Pr,X as Yt,Y as Nr,Z as Jt,_ as $r,$ as Zt,a0 as Qt,a1 as Ar,a2 as Rr,a3 as Kt,a4 as en,a5 as F,a6 as tn,a7 as Ir,a8 as it,a9 as Mr,aa as Er,ab as T,ac as ze,ad as _r,ae as nn,af as Fr,ag as Lr,ah as Se,ai as ke,aj as st,ak as at,al as Tr,am as de,an as Y,ao as rn,ap as Dr,aq as re,ar as Pe,as as Ae,at as on,au as be,av as ee,aw as Or,ax as sn,ay as et,az as He,aA as zr,aB as Br,aC as jr,aD as Gr,aE as Wr,aF as an,aG as qr,aH as Ur,aI as Dt,aJ as ln,aK as Ot,aL as Vr,aM as Hr,aN as cn,aO as un,aP as Xr,aQ as Yr,aR as Jr,aS as Zr,aT as Qr,aU as Kr,aV as zt,aW as dn,aX as eo,aY as le,aZ as to,a_ as no,a$ as fn,b0 as ro,b1 as mn,b2 as oo,b3 as io,b4 as so,b5 as ao,b6 as lo,b7 as co,b8 as uo}from"./vendor.04fff846.js";const fo=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};fo();const Bt=(e,t,n)=>{if(t==null?void 0:t.skipErrorHandler)throw e;const{errorConfig:r}=n;if(e.response){let o;if(e.name==="Error"&&(o=((r==null?void 0:r.adaptor)||(a=>a))(e.response.data,e.response),e.info=o,e.data=e.response.data),o=e.info,o){const{message:s="(\u30CE\uFE4F\u30FD)",code:a}=o;switch(o.showType){case 0:break;case 1:ae.warning(s);break;case 2:ae.error(s);break;case 3:fr.error({content:s,title:a});break;case 9:break;default:ae.error(s)}}}else e.request?ae.error((r==null?void 0:r.defaultNoneResponseErrorMessage)||"None response! Please retry."):ae.error((r==null?void 0:r.defaultRequestErrorMessage)||"Request error, please retry.");throw e};let De;const X={baseURL:window.location.origin+"/api/liql",method:"POST"},mo=()=>De||(De=mr.create(X),De),he=(e,t={},n={})=>{const r=mo();return console.log(`${e} => `,t),new Promise((o,s)=>{r.request(p(u({},n),{data:{operation:e,variables:t}})).then(a=>{var l;if(a.data.code!==0)try{(((l=X.errorConfig)==null?void 0:l.errorHandler)||Bt)({response:a,info:a.data},n,X)}catch(c){s(c)}else{const c=(X==null?void 0:X.formatResultAdaptor)||(d=>{var f;return(f=d.data)==null?void 0:f.data});o(c(a))}}).catch(a=>{var l;try{(((l=X.errorConfig)==null?void 0:l.errorHandler)||Bt)(a,n,X)}catch(c){s(c)}})})},Re=(e,t,n)=>dr(r=>he(e,r||t),n),ho=(e,t)=>{for(let n=0;n<e.length;n++)if(t<=e[n])return n;return-1},po=(e,t)=>{var n;return Array.isArray(e)?t===-1?e[0]:(n=e[t])!=null?n:e[e.length-1]:e},xe=(e,t)=>O(e)?po(e,t):e,go=(e,t)=>{const{clientWidth:n}=e,h=t,{breakpoints:r,layout:o,labelAlign:s,wrapperAlign:a,labelCol:l,wrapperCol:c}=h,d=k(h,["breakpoints","layout","labelAlign","wrapperAlign","labelCol","wrapperCol"]),f=ho(r||[],n);return u({layout:xe(o,f),labelAlign:xe(s,f),wrapperAlign:xe(a,f),labelCol:xe(l,f),wrapperCol:xe(c,f)},d)},yo=e=>{const t=m.exports.useRef(null),{breakpoints:n}=e;if(!We(n))return{ref:t,props:e};const[r,o]=m.exports.useState(e),s=()=>{t.current&&o(go(t.current,e))};return m.exports.useEffect(()=>{const a=()=>{s()},l=new ResizeObserver(a);return t.current&&l.observe(t.current),s(),()=>{l.disconnect()}},[]),{ref:t,props:r}},hn=()=>{const{locale:e}=m.exports.useContext(me.ConfigContext);return e},pn=()=>{const{prefixCls:e}=m.exports.useContext(me.ConfigContext);return e};const gn=z.createContext(null),xo=e=>qt(new rt(e)),Co=()=>m.exports.useContext(gn),J=A(o=>{var s=o,{children:e,className:t,style:n}=s,r=k(s,["children","className","style"]);var y,x;const a=Ie(),l=u({columnGap:(y=a==null?void 0:a.gridColumnGap)!=null?y:8,rowGap:(x=a==null?void 0:a.gridRowGap)!=null?x:4},r),c=m.exports.useMemo(()=>qt((l==null?void 0:l.grid)?l.grid:new rt(l)),[rt.id(l)]),d=m.exports.useRef(null),f=I("formily-grid",r),h=bn(r);return m.exports.useLayoutEffect(()=>c.connect(d.current),[c]),i(gn.Provider,{value:c,children:i("div",p(u({},h),{className:N(`${f}-layout`,t),style:p(u({},n),{gridTemplateColumns:c.templateColumns,gap:c.gap}),ref:d,children:e}))})},{forwardRef:!0}),yn=A(r=>{var o=r,{gridSpan:e,children:t}=o,n=k(o,["gridSpan","children"]);return i("div",p(u({},n),{style:n.style,"data-grid-span":e,children:t}))});yn.defaultProps={gridSpan:1};J.createFormGrid=xo;J.useFormGrid=Co;J.GridColumn=yn;const bo=e=>{const t=m.exports.useMemo(()=>J.createFormGrid({maxColumns:4,maxWidth:240,maxRows:e,shouldVisible:(l,c)=>l.index===c.childSize-1||c.maxRows===1/0?!0:(l.shadowRow||0)<e+1}),[]),n=t.maxRows===1/0,r=t.shadowRows,o=t.fullnessLastColumn?t.shadowRows-1:t.shadowRows;return{grid:t,expanded:n,toggle:()=>{t.maxRows===1/0?t.maxRows=e:t.maxRows=1/0},type:(()=>r<e+1?"incomplete-wrap":o>e?"collapsible":"complete-wrap")()}},I=(e,t)=>{const{getPrefixCls:n}=m.exports.useContext(me.ConfigContext);return n==null?void 0:n(e,t==null?void 0:t.prefixCls)},vo=hr,Z=e=>{const o=e,{type:t}=o,n=k(o,["type"]);if(!t)return null;const r=vo[t];return r?i(r,u({},n)):null},te=pr(new Map),xn=e=>{const t=n=>(n.id&&!te.has(n.id)&&te.set(n.id,null),w(m.exports.Fragment,{children:[n.children,i(Ut,{children:()=>{if(!n.id)return null;const r=te.get(n.id);return r?ft.exports.createPortal(r,document.body):null}})]}));return t.defaultProps={id:e},t};function Cn(e,t){function n(o){te.has(t)?te.set(t,o==null?void 0:o()):e&&ot.render(i(m.exports.Fragment,{children:o==null?void 0:o()}),e)}function r(){var o;te.has(t)?te.set(t,null):e&&(ot.unmountComponentAtNode(e),(o=e.parentNode)==null||o.removeChild(e))}return{render:n,unmount:r}}const lt=async(e="Loading...",t)=>{let n=null,r=setTimeout(()=>{n=ae.loading({content:e})},100);try{return await t()}finally{n==null||n(),clearTimeout(r)}},bn=(e={})=>{const t={};for(let n in e)n.indexOf("data-")>-1&&(t[n]=e[n]);return t},wo=e=>{if(!e.startsWith("http"))return!1;try{return!!new URL(e)}catch{return!1}},vn=m.exports.createContext(void 0),pt=m.exports.createContext(void 0),gt=()=>m.exports.useContext(vn),wn=()=>m.exports.useContext(pt),Ie=()=>u(u({},gt()),wn()),Q=a=>{var l=a,{shallow:e,children:t,prefixCls:n,className:r,style:o}=l,s=k(l,["shallow","children","prefixCls","className","style"]);const{ref:c,props:d}=yo(s),f=gt(),h=I("form",{prefixCls:n}),y=I("formily-layout",{prefixCls:n}),x=N(y,{[`${h}-${d.layout}`]:!0,[`${h}-rtl`]:d.direction==="rtl",[`${h}-${d.size}`]:d.size},r);return i("div",{ref:c,className:x,style:o,children:(()=>{const C=u({},f);return e?(d.size&&(C.size=d.size),d.colon&&(C.colon=d.colon)):Object.assign(C,d),i(vn.Provider,{value:C,children:i(pt.Provider,{value:e?d:void 0,children:t})})})()})};Q.defaultProps={shallow:!0};Q.useFormDeepLayout=gt;Q.useFormShallowLayout=wn;Q.useFormLayout=Ie;const So=e=>Ht(e)||Xt(e)||Ve(e)||z.isValidElement(e),ko=e=>So(e)?{title:e}:e;function Be(e,t,n){(q(t)||z.isValidElement(t))&&(n=t,t="form-drawer");const r={host:document.createElement("div"),openMiddlewares:[],form:null,promise:null},o=Cn(r.host,t),s=ko(e),a=p(u({width:"50%"},s),{footer:null,onCancel:()=>{var f;((f=s==null?void 0:s.onCancel)==null?void 0:f.call(s))!==!1&&d.close()},afterClose:()=>{var f;(f=s==null?void 0:s.afterClose)==null||f.call(s),o.unmount()}}),l=A(()=>i(m.exports.Fragment,{children:q(n)?n(r.form):n})),c=(f=!0)=>i(yr,p(u({autoFocus:!1},a),{visible:f,children:i(Ue,{form:r.form,children:i(l,{})})}));document.body.appendChild(r.host);const d={forOpen:f=>(q(f)&&r.openMiddlewares.push(f),d),open:f=>(r.promise||(r.promise=new Promise(async(h,y)=>{try{f=await lt(a.loadingText,()=>Oe(f,r.openMiddlewares)),r.form=r.form||qe(p(u({},f),{effects(x){var g;gr(()=>{h(Vt(x.values)),d.close()}),(g=f==null?void 0:f.effects)==null||g.call(f,x)}}))}catch(x){y(x)}o.render(()=>c(!1)),setTimeout(()=>{o.render(()=>c(!0))},16)})),r.promise),close:()=>{!r.host||o.render(()=>c(!1))}};return d}const Po=e=>{const t=m.exports.useRef(null),[n,r]=m.exports.useState(null),o=m.exports.useRef(null),s=I("drawer");return m.exports.useLayoutEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.closest(`.${s}-scroll`);a&&(o.current||(o.current=a.querySelector(`.${s}-footer`),o.current||(o.current=document.createElement("div"),o.current.classList.add(`${s}-footer`),a.appendChild(o.current))),r(o.current))}),o.current=n,i("div",{ref:t,style:{display:"none"},children:n&&ft.exports.createPortal(e.children,n)})};Be.Footer=Po;Be.Portal=xn("form-drawer");const No=e=>{var n,r,o,s,a,l,c,d,f,h,y,x,g,C,v,b,$,R,D,V,B,W;const t=Ie();return p(u({},e),{layout:(r=(n=e.layout)!=null?n:t.layout)!=null?r:"horizontal",colon:(o=e.colon)!=null?o:t.colon,labelAlign:t.layout==="vertical"?(a=(s=e.labelAlign)!=null?s:t.labelAlign)!=null?a:"left":(c=(l=e.labelAlign)!=null?l:t.labelAlign)!=null?c:"right",labelWrap:(d=e.labelWrap)!=null?d:t.labelWrap,labelWidth:(f=e.labelWidth)!=null?f:t.labelWidth,wrapperWidth:(h=e.wrapperWidth)!=null?h:t.wrapperWidth,labelCol:(y=e.labelCol)!=null?y:t.labelCol,wrapperCol:(x=e.wrapperCol)!=null?x:t.wrapperCol,wrapperAlign:(g=e.wrapperAlign)!=null?g:t.wrapperAlign,wrapperWrap:(C=e.wrapperWrap)!=null?C:t.wrapperWrap,fullness:(v=e.fullness)!=null?v:t.fullness,size:(b=e.size)!=null?b:t.size,asterisk:e.asterisk,feedbackIcon:e.feedbackIcon,feedbackLayout:(R=($=e.feedbackLayout)!=null?$:t.feedbackLayout)!=null?R:"loose",tooltipLayout:(V=(D=e.tooltipLayout)!=null?D:t.tooltipLayout)!=null?V:"icon",tooltipIcon:(W=(B=e.tooltipIcon)!=null?B:t.tooltipIcon)!=null?W:i(Cr,{})})};function $o(){const[e,t]=m.exports.useState(!1),n=m.exports.useRef(),r=m.exports.useRef(),o=Ie(),s=JSON.stringify(o.labelCol);return m.exports.useEffect(()=>{requestAnimationFrame(()=>{if(n.current&&r.current){const a=r.current.getBoundingClientRect().width,l=n.current.getBoundingClientRect().width;a&&l&&l<a?e||t(!0):e&&t(!1)}})},[s]),{overflow:e,containerRef:n,contentRef:r}}const Ao={error:i(br,{}),success:i(vr,{}),warning:i(wr,{}),pending:i($e,{})},yt=n=>{var r=n,{children:e}=r,t=k(r,["children"]);const o=No(t),{containerRef:s,contentRef:a,overflow:l}=$o(),{label:c,style:d,layout:f,colon:h,addonBefore:y,addonAfter:x,asterisk:g,feedbackStatus:C,extra:v,feedbackText:b,fullness:$,feedbackLayout:R,feedbackIcon:D,getPopupContainer:V,labelWidth:B,wrapperWidth:W,labelCol:Ee,wrapperCol:_e,labelAlign:Zn,wrapperAlign:Qn="left",size:Mt,labelWrap:Kn,wrapperWrap:er,tooltipLayout:Ke,tooltip:ie,tooltipIcon:tr}=o,Fe=u({},o.labelStyle),Le=u({},o.wrapperStyle);let ye=!1;(B||W)&&(B&&(Fe.width=B==="auto"?void 0:B,Fe.maxWidth=B==="auto"?void 0:B),W&&(Le.width=W==="auto"?void 0:W,Le.maxWidth=W==="auto"?void 0:W)),(Ee||_e)&&!Fe.width&&!Le.width&&(ye=!0);const S=pn(),nr=R==="popover"&&C?i(mt,{position:"top",content:w("div",{className:N({[`${S}-form-item-${C}-help`]:!!C,[`${S}-form-item-help`]:!0}),children:[Ao[C]," ",b]}),popupVisible:!!b,getPopupContainer:V,children:e}):e,rr={},or=()=>l?w("div",{children:[i("div",{children:c}),i("div",{children:ie})]}):ie,ir=()=>{const Et=w("label",{ref:a,children:[g&&i("strong",{className:`${S}-form-item-symbol`,children:i("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em",children:i("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})})}),c]});return Ke==="text"&&ie||l?i(Tt,{position:"top",content:or(),children:Et}):Et},sr=()=>{if(ie&&Ke==="icon"&&!l)return i("span",{className:`${S}-form-label-item-tooltip-icon`,children:i(Tt,{position:"top",content:ie,children:tr})})},ar=()=>c?w(Ce.Col,{ref:s,span:ye&&!!Ee?Ee:void 0,className:N(`${S}-form-item-label`,`${S}-form-label-item`,{[`${S}-form-label-item-tooltip`]:ie&&Ke==="text"||l,[`${S}-form-label-item-flex`]:!ye||!Ee}),style:Fe,children:[ir(),sr(),i("span",{className:`${S}-form-item-colon`,children:h?":":""})]}):null;return w(Ce.Row,p(u({},bn(t)),{div:f!=="horizontal","data-grid-span":t.gridSpan,className:N({[`${S}-form-item`]:!0,[`${S}-form-item-layout-${f}`]:!0,[`${S}-form-item-${C}`]:!!C,[`${S}-form-item-feedback-has-text`]:!!b,[`${S}-form-item-size-${Mt}`]:!!Mt,[`${S}-form-item-feedback-layout-${R}`]:!!R,[`${S}-form-item-fullness`]:!!$||!!D,[`${S}-form-item-label-align-${Zn}`]:!0,[`${S}-form-item-control-align-${Qn}`]:!0,[`${S}-form-item-label-wrap`]:!!Kn,[`${S}-form-item-control-wrap`]:!!er,[t.className||""]:!!t.className}),style:u(u({},d),rr),children:[ar(),w(Ce.Col,{className:N(`${S}-form-item-wrapper`,{[`${S}-item-wrapper-flex`]:!ye||!_e||!c}),span:ye&&!!_e?_e:void 0,children:[w("div",{className:N(`${S}-form-item-control-content`),children:[y&&i("div",{className:N(`${S}-form-item-addon-before`),children:y}),w("div",{style:Le,className:N({[`${S}-form-item-control-content-component`]:!0,[`${S}-form-item-control-content-component-has-feedback-icon`]:!!D}),children:[i(pt.Provider,{value:void 0,children:nr}),D&&i("div",{className:N(`${S}-form-item-feedback-icon`),children:D})]}),x&&i("div",{className:N(`${S}-form-item-addon-after`),children:x})]}),!!b&&R!=="popover"&&R!=="none"&&i("div",{className:N({[`${S}-form-message`]:!0,[`${S}-form-item-${C}-help`]:!!C,[`${S}-form-item-help`]:!0,[`${S}-form-item-help-enter`]:!0,[`${S}-form-item-help-enter-active`]:!0}),children:b}),v&&i("div",{className:N(`${S}-form-item-extra`),children:v})]})]}))},Sn=M(yt,G((e,t)=>{if(xr(t))return{label:t.title||e.label,asterisk:e.asterisk,extra:e.extra||t.description};if(!t)return e;const n=()=>t.validating?"pending":t.decoratorProps.feedbackStatus||t.validateStatus,r=()=>{const s=a=>a.reduce((l,c,d)=>c?d<a.length-1?l.concat([c,", "]):l.concat([c]):l,[]);if(!t.validating){if(e.feedbackText)return e.feedbackText;if(t.selfErrors.length)return s(t.selfErrors);if(t.selfWarnings.length)return s(t.selfWarnings);if(t.selfSuccesses.length)return s(t.selfSuccesses)}},o=()=>t.required&&t.pattern!=="readPretty"?!0:"asterisk"in e?e.asterisk:!1;return{label:e.label||t.title,feedbackStatus:n(),feedbackText:r(),asterisk:o(),extra:e.extra||t.description}}));Sn.BaseItem=yt;function kn(e){const t=Ro(),n=window.getComputedStyle(e).backgroundColor;return n!=t?n:e.parentElement?kn(e.parentElement):t}function Ro(){let e=document.createElement("div");document.head.appendChild(e);let t=window.getComputedStyle(e).backgroundColor;return document.head.removeChild(e),t}const U=r=>{var o=r,{align:e,gutter:t}=o,n=k(o,["align","gutter"]);const s=I("formily-button-group");return i(ne,p(u({},n),{size:t,className:N(s,n.className),style:p(u({},n.style),{justifyContent:e==="left"?"flex-start":e==="right"?"flex-end":"center",display:"flex"}),children:n.children}))};U.defaultProps={align:"left"};U.FormItem=n=>{var r=n,{gutter:e}=r,t=k(r,["gutter"]);return i(yt,p(u({},t),{label:" ",style:p(u({margin:0,padding:0},t.style),{width:"100%"}),colon:!1,children:Array.isArray(t.children)?i(ne,{size:e,children:t.children}):t.children}))};U.Sticky=n=>{var r=n,{align:e}=r,t=k(r,["align"]);const o=m.exports.useRef(null),[s,a]=m.exports.useState("transparent"),l=I("formily-button-group");return m.exports.useLayoutEffect(()=>{if(o.current){const c=kn(o.current);c!==s&&a(c)}}),i(Sr,p(u({},t),{className:N(`${l}-sticky`,t.className),style:u({backgroundColor:s},t.style),bottom:!0,children:i("div",{ref:o,className:`${l}-sticky-inner`,style:p(u({},t.style),{justifyContent:e==="left"?"flex-start":e==="right"?"flex-end":"center"}),children:t.children})}))};U.Sticky.defaultProps={align:"left"};const xt=A(s=>{var a=s,{forSubmit:e,forSubmitFailed:t,forSubmitSuccess:n,forSubmitSuccessTo:r}=a,o=k(a,["forSubmit","forSubmitFailed","forSubmitSuccess","forSubmitSuccessTo"]);const l=ht(),c=kr();return i(_,p(u({htmlType:e?"button":"submit",type:"primary"},o),{loading:o.loading!==void 0?o.loading:l.submitting,onClick:d=>{o.onClick&&o.onClick(d)===!1||l.submit(f=>{if(e)return he(e,f)}).then(r?()=>{c.push(r)}:n).catch(t)},children:o.children}))},{forwardRef:!0}),Io=A(e=>{const x=e,{initialValues:t,forInit:n,forInitVariables:r,forSubmitSuccess:o,isMenuItem:s,drawerProps:a,layoutProps:l}=x,c=k(x,["initialValues","forInit","forInitVariables","forSubmitSuccess","isMenuItem","drawerProps","layoutProps"]),d=L(),f=E(),{locale:h}=m.exports.useContext(me.ConfigContext),y=()=>{const g=Be(a||f.title,()=>w(Q,p(u({},l),{children:[i(Nt,{children:i(fe,{schema:d.items,onlyRenderProperties:!0})}),d.properties&&i(Be.Footer,{children:i(U,{align:"right",children:d.reduceProperties((C,v)=>v["x-component"]==="Action.FormDrawer.Cancel"?C.concat([m.exports.createElement(_,p(u(u({},a==null?void 0:a.cancelButtonProps),v["x-component-props"]),{key:v.name,onClick:()=>{g.close()}}),v.title||(h==null?void 0:h.Drawer.cancelText))]):v["x-component"]==="Action.FormDrawer.Submit"?C.concat([m.exports.createElement(xt,p(u(u({},a==null?void 0:a.cancelButtonProps),v["x-component-props"]),{key:v.name,forSubmitSuccess:b=>{g.close(),o==null||o(b)}}),v.title||(h==null?void 0:h.Drawer.okText))]):C,[])})})]}))).forOpen((C,v)=>{n?he(n,r).then(b=>{v({initialValues:u(u({},t),b),editable:d.reduceProperties(($,R)=>R["x-component"]==="Action.FormDrawer.Submit"?$.concat([!0]):$,[]).length>0})}):v({initialValues:t,editable:d.reduceProperties((b,$)=>$["x-component"]==="Action.FormDrawer.Submit"?b.concat([!0]):b,[]).length>0})});g.open()};return s?i("div",{onClick:y,children:f.title}):i(_,p(u({},c),{onClick:y,icon:c.icon&&typeof c.icon=="string"?i(Z,{type:c.icon}):c.icon,children:f.title}))});var Pn=Io;const Mo=e=>Ht(e)||Xt(e)||Ve(e)||z.isValidElement(e),Eo=e=>Mo(e)?{title:e}:e;function ve(e,t,n){(q(t)||z.isValidElement(t))&&(n=t,t="form-modal");const r={host:document.createElement("div"),form:null,promise:null,openMiddlewares:[],confirmMiddlewares:[],cancelMiddlewares:[]},o=Cn(r.host,t),s=Eo(e),a=p(u({},s),{afterClose:()=>{var f;(f=s==null?void 0:s.afterClose)==null||f.call(s),o.unmount()}}),l=A(()=>i(m.exports.Fragment,{children:q(n)?n(r.form):n})),c=(f=!0,h,y)=>i(Ut,{children:()=>{var x;return i(Pr,p(u({},a),{visible:f,confirmLoading:(x=r.form)==null?void 0:x.submitting,onCancel:()=>{var g;((g=a==null?void 0:a.onCancel)==null?void 0:g.call(a))!==!1&&(y==null||y())},onOk:async g=>{var C;((C=a==null?void 0:a.onOk)==null?void 0:C.call(a,g))!==!1&&(h==null||h())},children:i(Ue,{form:r.form,children:i(l,{})})}))}});document.body.appendChild(r.host);const d={forOpen:f=>(q(f)&&r.openMiddlewares.push(f),d),forConfirm:f=>(q(f)&&r.confirmMiddlewares.push(f),d),forCancel:f=>(q(f)&&r.cancelMiddlewares.push(f),d),open:async f=>(r.promise||(r.promise=new Promise(async(h,y)=>{try{f=await lt(a.loadingText,()=>Oe(f,r.openMiddlewares)),r.form=r.form||qe(f)}catch(x){y(x)}o.render(()=>c(!0,()=>{r.form.submit(async()=>{await Oe(r.form,r.confirmMiddlewares),h(Vt(r.form.values)),d.close()}).catch(()=>{})},async()=>{await lt(a.loadingText,()=>Oe(r.form,r.cancelMiddlewares)),d.close()}))})),r.promise),close:()=>{!r.host||o.render(()=>c(!1))}};return d}const _o=e=>{const t=m.exports.useRef(null),[n,r]=m.exports.useState(null),o=m.exports.useRef(null),s=I("modal");return m.exports.useLayoutEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.closest(`.${s}-content`);a&&(o.current||(o.current=a.querySelector(`.${s}-footer`),o.current||(o.current=document.createElement("div"),o.current.classList.add(`${s}-footer`),a.appendChild(o.current))),r(o.current))}),o.current=n,i("div",{ref:t,style:{display:"none"},children:n&&ft.exports.createPortal(e.children,n)})};ve.Footer=_o;ve.Portal=xn("form-modal");const Fo=A(e=>{const x=e,{initialValues:t,forInit:n,forInitVariables:r,forSubmitSuccess:o,isMenuItem:s,modalProps:a,layoutProps:l}=x,c=k(x,["initialValues","forInit","forInitVariables","forSubmitSuccess","isMenuItem","modalProps","layoutProps"]),d=L(),f=E(),{locale:h}=m.exports.useContext(me.ConfigContext),y=()=>{const g=ve(a||f.title,()=>w(Q,p(u({},l),{children:[i(Nt,{children:i(fe,{schema:d,onlyRenderProperties:!0})}),d.properties&&i(ve.Footer,{children:i(U,{align:"right",children:d.reduceProperties((C,v)=>v["x-component"]==="Action.FormModal.Cancel"?C.concat([m.exports.createElement(_,p(u(u({},a==null?void 0:a.cancelButtonProps),v["x-component-props"]),{key:v.name,onClick:()=>{g.close()}}),v.title||(h==null?void 0:h.Modal.cancelText))]):v["x-component"]==="Action.FormModal.Submit"?C.concat([m.exports.createElement(xt,p(u(u({},a==null?void 0:a.cancelButtonProps),v["x-component-props"]),{key:v.name,forSubmitSuccess:b=>{g.close(),o==null||o(b)}}),v.title||(h==null?void 0:h.Modal.okText))]):C,[])})})]}))).forOpen((C,v)=>{n?he(n,r).then(b=>{v({initialValues:u(u({},t),b),editable:d.reduceProperties(($,R)=>R["x-component"]==="Action.FormModal.Submit"?$.concat([!0]):$,[]).length>0})}):v({initialValues:t,editable:d.reduceProperties((b,$)=>$["x-component"]==="Action.FormModal.Submit"?b.concat([!0]):b,[]).length>0})});g.open()};return i(ve.Portal,{children:s?i("div",{onClick:y,children:f.title}):i(_,p(u({},c),{onClick:y,icon:c.icon&&typeof c.icon=="string"?i(Z,{type:c.icon}):c.icon,children:f.title}))})});var Nn=Fo;const Ct=e=>i(m.exports.Fragment,{});Ct.FormDrawer=Pn;Ct.FormModal=Nn;const $n=m.exports.createContext(null),bt=m.exports.createContext(null),pe=()=>m.exports.useContext($n),Me=e=>{const t=m.exports.useContext(bt);return t?t.index:e},Lo=e=>{const t=m.exports.useContext(bt);return t?t.record:e},An=(e,t)=>{var n,r,o,s,a,l,c;return O(e)?Ar(e):Array.isArray(t==null?void 0:t.items)?An(e,t.items[0]):((n=t==null?void 0:t.items)==null?void 0:n.type)==="array"?[]:((r=t==null?void 0:t.items)==null?void 0:r.type)==="boolean"?!0:((o=t==null?void 0:t.items)==null?void 0:o.type)==="date"||((s=t==null?void 0:t.items)==null?void 0:s.type)==="datetime"?"":((a=t==null?void 0:t.items)==null?void 0:a.type)==="number"?0:((l=t==null?void 0:t.items)==null?void 0:l.type)==="object"?{}:((c=t==null?void 0:t.items)==null?void 0:c.type)==="string"?"":null},P=e=>{const t=E(),n=L();return i($n.Provider,{value:{field:t,schema:n,props:e},children:e.children})};P.Item=n=>{var r=n,{children:e}=r,t=k(r,["children"]);return i(bt.Provider,{value:t,children:i(Yt,{value:{$record:t.record,$index:t.index},children:e})})};const To=Nr(e=>{const t=I("formily-array-base");return i(Rr,p(u({},e),{className:N(`${t}-sort-handle`,e.className),style:u({},e.style)}))});P.SortHandle=e=>{var n;const t=pe();return!t||((n=t.field)==null?void 0:n.pattern)!=="editable"?null:i(To,u({},e))};P.Index=e=>{const t=Me()||0,n=I("formily-array-base");return w("span",p(u({},e),{className:`${n}-index`,children:["#",t+1,"."]}))};P.Addition=e=>{var o,s,a;const t=E(),n=pe(),r=I("formily-array-base");return!n||((o=n.field)==null?void 0:o.pattern)!=="editable"&&((s=n.field)==null?void 0:s.pattern)!=="disabled"?null:i(_,p(u({type:"dashed",long:!0},e),{disabled:Ve(t==null?void 0:t.disabled)?t==null?void 0:t.disabled:(a=n.field)==null?void 0:a.disabled,className:N(`${r}-addition`,e.className),onClick:l=>{var d,f,h,y,x,g,C,v,b,$,R;if((d=n.props)==null?void 0:d.disabled)return;const c=An(e.defaultValue,n.schema);e.method==="unshift"?((h=(f=n.field)==null?void 0:f.unshift)==null||h.call(f,c),(x=(y=n.props)==null?void 0:y.onAdd)==null||x.call(y,0)):((C=(g=n.field)==null?void 0:g.push)==null||C.call(g,c),(R=(v=n.props)==null?void 0:v.onAdd)==null||R.call(v,(($=(b=n==null?void 0:n.field)==null?void 0:b.value)==null?void 0:$.length)-1)),e.onClick&&e.onClick(l)},icon:i(Jt,{}),children:e.title||t.title}))};P.Remove=z.forwardRef((e,t)=>{var s;const n=Me(e.index)||0,r=pe(),o=I("formily-array-base");return!r||((s=r.field)==null?void 0:s.pattern)!=="editable"?null:i($r,p(u({},e),{className:N(`${o}-remove`,e.className),ref:t,onClick:a=>{var l,c,d,f,h;((l=r.props)==null?void 0:l.disabled)||(a.stopPropagation(),(d=(c=r.field)==null?void 0:c.remove)==null||d.call(c,n),(h=(f=r.props)==null?void 0:f.onRemove)==null||h.call(f,n),e.onClick&&e.onClick(a))}}))});P.MoveDown=z.forwardRef((e,t)=>{var s;const n=Me(e.index)||0,r=pe(),o=I("formily-array-base");return!r||((s=r.field)==null?void 0:s.pattern)!=="editable"?null:i(Zt,p(u({},e),{className:N(`${o}-move-down`,e.className),ref:t,onClick:a=>{var l,c,d,f,h;((l=r.props)==null?void 0:l.disabled)||(a.stopPropagation(),(d=(c=r.field)==null?void 0:c.moveDown)==null||d.call(c,n),(h=(f=r.props)==null?void 0:f.onMoveDown)==null||h.call(f,n),e.onClick&&e.onClick(a))}}))});P.MoveUp=z.forwardRef((e,t)=>{var s;const n=Me(e.index)||0,r=pe(),o=I("formily-array-base");return!r||((s=r.field)==null?void 0:s.pattern)!=="editable"?null:i(Qt,p(u({},e),{className:N(`${o}-move-up`,e.className),ref:t,onClick:a=>{var l,c,d,f;((l=r.props)==null?void 0:l.disabled)||(a.stopPropagation(),(c=r==null?void 0:r.field)==null||c.moveUp(n),(f=(d=r==null?void 0:r.props)==null?void 0:d.onMoveUp)==null||f.call(d,n),e.onClick&&e.onClick(a))}}))});P.useArray=pe;P.useIndex=Me;P.useRecord=Lo;P.mixin=e=>(e.Index=P.Index,e.SortHandle=P.SortHandle,e.Addition=P.Addition,e.Remove=P.Remove,e.MoveDown=P.MoveDown,e.MoveUp=P.MoveUp,e.useArray=P.useArray,e.useIndex=P.useIndex,e.useRecord=P.useRecord,e);const Do=Kt(e=>{const t=I("formily-array-items");return i("div",p(u({},e),{className:N(`${t}-item`,e.className),children:e.children}))}),Oo=en(e=>{const t=I("formily-array-items");return i("div",p(u({},e),{className:N(`${t}-list`,e.className),children:e.children}))}),zo=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},Bo=()=>L().reduceProperties((t,n,r)=>zo(n)?i(F,{schema:n,name:r}):t,null),Xe=A(e=>{const t=E(),n=I("formily-array-items"),r=L(),o=Bo(),s=Array.isArray(t.value)?t.value:[];if(!r)throw new Error("can not found schema object");return i(P,{children:w("div",p(u({},e),{onChange:()=>{},className:N(n,e.className),children:[i(Oo,{useDragHandle:!0,lockAxis:"y",helperClass:`${n}-sort-helper`,onSortEnd:({oldIndex:a,newIndex:l})=>{t.move(a,l)},children:s==null?void 0:s.map((a,l)=>{const c=Array.isArray(r.items)?r.items[l]||r.items[0]:r.items;return i(P.Item,{index:l,record:a,children:i(Do,{index:l,children:i("div",{className:`${n}-item-inner`,children:c&&i(F,{schema:c,name:l})})},`item-${l}`)},l)})}),o]}))})});Xe.displayName="ArrayItems";Xe.Item=e=>{const t=I("formily-array-items");return i("div",p(u({},e),{onChange:()=>{},className:N(`${t}-${e.type||"card"}`,e.className),children:e.children}))};var Wt;(Wt=P.mixin)==null||Wt.call(P,Xe);const jo=Kt(e=>i("tr",u({},e))),Go=en(e=>i("tbody",u({},e))),Ye=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Column"))>-1},Wo=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Operations"))>-1},Rn=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},In=()=>{const e=E(),t=L(),n=o=>{var s,a,l;if(Ye(o)||Wo(o)||Rn(o)){if(!((s=o["x-component-props"])==null?void 0:s.dataIndex)&&!o.name)return[];const c=((a=o["x-component-props"])==null?void 0:a.dataIndex)||o.name,d=e.query(e.address.concat(c)).take(),f=((l=d==null?void 0:d.component)==null?void 0:l[1])||o["x-component-props"]||{},h=(d==null?void 0:d.display)||o["x-display"];return[{name:c,display:h,field:d,schema:o,columnProps:f}]}else if(o.properties)return o.reduceProperties((c,d)=>c.concat(n(d)),[]);return[]},r=o=>{if(!o)return[];const s=[];return(We(o)?o:[o]).reduce((l,c)=>{const d=n(c);return d?l.concat(d):l},s)};if(!t)throw new Error("can not found schema object");return r(t.items)},qo=(e,t)=>t.reduce((n,{name:r,columnProps:o,schema:s,display:a},l)=>a!=="visible"||!Ye(s)?n:n.concat(p(u({},o),{key:l,dataIndex:r,render:(c,d)=>{const f=e.indexOf(d);return i(P.Item,{index:f,record:d,children:i(F,{schema:s,name:f,onlyRenderProperties:!0})})}})),[]),Uo=()=>L().reduceProperties((t,n,r)=>Rn(n)?i(F,{schema:n,name:r}):t,null),Vo=e=>{var x;const[t,n]=m.exports.useState(1),r=I("formily-array-table"),o=e.pageSize||10,s=e.size||"default",a=e.dataSource||[],l=(t-1)*o,c=l+o-1,d=(a==null?void 0:a.length)||0,f=Math.ceil(d/o),h=g=>{n(g)};m.exports.useEffect(()=>{f>0&&f<t&&h(f)},[f,t]);const y=()=>{if(!(f<=1))return i("div",{className:`${r}-pagination`,children:i(Ir,p(u({},e),{simple:!0,pageSize:o,current:t,total:a.length,size:s,sizeCanChange:!1,onChange:h}))})};return i(m.exports.Fragment,{children:(x=e.children)==null?void 0:x.call(e,a==null?void 0:a.slice(l,c+1),y())})},Ho=e=>i(jo,u({index:e.index||0},e)),Je=A(e=>{const t=m.exports.useRef(null),n=E(),r=I("formily-array-table"),o=Array.isArray(n.value)?n.value.slice():[],s=In(),a=qo(o,s),l=Ve(e.pagination)?{}:e.pagination,c=Uo(),d=h=>o.indexOf(h).toString(),f=h=>{const y=document.body.querySelector(`.${r}-sort-helper`);if(y){const x=h.querySelectorAll("td");requestAnimationFrame(()=>{y.querySelectorAll("td").forEach((g,C)=>{x[C]&&(g.style.width=getComputedStyle(x[C]).width)})})}};return i(Vo,p(u({},l),{dataSource:o,children:(h,y)=>i("div",{ref:t,className:r,children:w(P,{children:[i(tn,p(u({size:"small",border:!0,rowKey:d},e),{onChange:()=>{},pagination:!1,columns:a,data:h,components:{body:{tbody:x=>i(Go,u({useDragHandle:!0,lockAxis:"y",helperClass:`${r}-sort-helper`,helperContainer:()=>{var g;return(g=t.current)==null?void 0:g.querySelector("tbody")},onSortStart:({node:g})=>{f(g)},onSortEnd:({oldIndex:g,newIndex:C})=>{n.move(g,C)}},x)),row:Ho}}})),i("div",{style:{marginTop:5,marginBottom:5},children:y}),s.map((x,g)=>{if(!!Ye(x.schema))return z.createElement(F,{name:x.name,schema:x.schema,onlyRenderSelf:!0,key:g})}),c]})})}))});Je.displayName="ArrayTable";Je.Column=()=>i(m.exports.Fragment,{});P.mixin(Je);const Xo=e=>e.src?i(it,p(u({shape:e.shape||"circle",size:e.size},e),{children:i("img",{alt:e.alt,src:e.src})})):i(it,p(u({},e),{children:e.children})),Yo=e=>i(Mr,p(u({style:{marginBottom:24},bordered:!1},e),{children:e.children})),Jo=M(Er,G({dataSource:"options"},(e,t)=>p(u({},e),{suffixIcon:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?i($e,{}):e.suffixIcon})),T(e=>{const{fieldNames:t=_r}=e,n=ze(e.value),r=n.length;let s=E().dataSource;const a=[];for(const l of n)if(typeof l=="object")a.push(l);else{const c=s==null?void 0:s.find(d=>d[t.value]===l);s=(c==null?void 0:c[t.children])||[],a.push(c||{label:l,value:l})}return i("div",{children:a.map((l,c)=>w("span",{children:[typeof l=="object"?l[t.label]:l,r>c+1&&" / "]},c))})})),vt=M(nn,G({value:"checked",onInput:"onChange"}),T(e=>O(e.value)?e.value?i(Fr,{style:{color:"#52c41a"}}):i(Lr,{style:{color:"#f5222d"}}):i("div",{children:"-"})));vt.__ARCO_CHECKBOX=!0;vt.Group=M(nn.Group,G({dataSource:"options"}),T(e=>{if(!O(e.value))return i("div",{children:"-"});const t=E(),n=t.dataSource||[],r=Se.exports.uniq(t.value?t.value:[]);return i("div",{children:n.filter(o=>r.includes(o.value)).map((o,s)=>i(ke,{color:o.color,children:o.label},s))})}));const ct=()=>{const e=m.exports.useContext(st),t=m.exports.useContext(at);return n=>n&&Tr.compile(n,u(u({},e.scope),t))},se={red:'{{t("Red")}}',orangered:'{{t("Orangered")}}',orange:'{{t("Orange")}}',gold:'{{t("Gold")}}',lime:'{{t("Lime")}}',green:'{{t("Green")}}',cyan:'{{t("Cyan")}}',blue:'{{t("Blue")}}',arcobule:'{{t("Arco Blue")}}',purple:'{{t("Purple")}}',pinkpurple:'{{t("Pink Purple")}}',magenta:'{{t("Magenta")}}',gray:'{{t("Gray")}}'},Zo=M(e=>{const t=ct();return i(de,p(u({},e),{children:Object.keys(se).map(n=>i(de.Option,{value:n,children:i(ke,{color:n,children:t(se[n]||se.default)})}))}))},G((e,t)=>p(u({},e),{suffix:i("span",{children:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?i($e,{}):e.suffix})})),T(e=>{const t=ct(),{value:n}=e;return se[n]?i(ke,{color:n,children:t(se[n]||se.default)}):null})),Qo=e=>{if(!e.value)return i("div",{children:"-"});const t=I("description-date-picker",e),n=()=>We(e.value)?e.value.join("~"):e.value;return i("div",{className:N(t,e.className),children:n()})},Ko=e=>{const r=e,{mode:t}=r,n=k(r,["mode"]);switch(t){case"date":return i(Y,u({},n));case"week":return i(Y.WeekPicker,u({},n));case"month":return i(Y.MonthPicker,u({},n));case"year":return i(Y.YearPicker,u({},n));case"quarter":return i(Y.QuarterPicker,u({},n));default:return i(Y,u({},n))}},ei=M(Ko,T(Qo)),ti=e=>i(rn,p(u({style:{marginBottom:24}},e),{children:e.children})),Ze=A(e=>{const t=L();return i(Dr,p(u({},e),{droplist:i(re,{children:i(F,{schema:t.items,onlyRenderProperties:!0})}),children:i("div",{children:i(F,{schema:t,onlyRenderProperties:!0})})}))});Ze.Item=A(e=>{const t=L(),n=E();return m.exports.createElement(re.Item,p(u({},e),{key:t.name}),t.properties?i(F,{schema:t,onlyRenderProperties:!0}):n.title)});Ze.SubMenu=A(e=>{const t=L(),n=E();return m.exports.createElement(re.SubMenu,p(u({},e),{key:t.name,title:n.title}),i(F,{schema:t,onlyRenderProperties:!0}))});Ze.URL=A(e=>{const t=L(),n=E();return i(re.Item,{onClick:()=>{window.open(e.href,"_blank")},children:n.title},t.name)});const ni=m.exports.createContext("N/A"),ri=ni.Provider,Mn=a=>{var l=a,{form:e,component:t,onAutoSubmit:n,onAutoSubmitFailed:r,previewTextPlaceholder:o}=l,s=k(l,["form","component","onAutoSubmit","onAutoSubmitFailed","previewTextPlaceholder"]);const c=ht(),d=f=>i(Yt,{value:{$$form:f},children:i(ri,{value:o,children:i(Q,p(u({},s),{children:z.createElement(t!=null?t:"form",{onSubmit(h){var y,x;(y=h==null?void 0:h.stopPropagation)==null||y.call(h),(x=h==null?void 0:h.preventDefault)==null||x.call(h),f.submit(n).catch(r)}},s.children)}))})});if(e)return i(Ue,{form:e,children:d(e)});if(!c)throw new Error("must pass form instance by createForm");return d(c)};Mn.defaultProps={component:"form"};const wt=()=>i(Pe,{});wt.Row=e=>i(Ce.Row,u({},e));wt.Col=e=>i(Ce.Col,u({},e));const oi=e=>{const t=m.exports.useRef(null);return m.exports.useEffect(()=>(t.current&&e!==t.current&&t.current.onUnmount(),t.current=e,e.onMount(),()=>{e.onUnmount()}),[e]),e},En=m.exports.createContext({});function ii(){return m.exports.useContext(En)}const _n=M(Ae,G((e,t)=>p(u({},e),{suffix:i("span",{children:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?i($e,{}):e.suffix})})),T(e=>{const t=I("description-input",e),n=z.useRef(null),r=ct(),[o,s]=m.exports.useState(!1),a=r(e.value),l=i(mt,{content:a,style:{width:100},children:i("span",{className:"input-ellipsis",children:a})});return m.exports.useEffect(()=>{var c,d,f;((c=n.current)==null?void 0:c.scrollWidth)&&((d=n.current)==null?void 0:d.scrollWidth)>((f=n.current)==null?void 0:f.clientWidth)&&s(!0)},[]),w("div",{className:N(t,e.className),style:e.style,children:[e.addonBefore,e.prefix,i("span",{ref:n,children:o?l:a}),e.suffix,e.addonAfter]})}));_n.TextArea=M(Ae.TextArea,T(e=>{const t=I("description-textarea",e),n=z.useRef(null),[r,o]=m.exports.useState(!1),s=e.ellipsis===!0?{}:e.ellipsis,a=i(mt,{content:e.value,children:i("span",{className:"input-ellipsis",style:u({},s),children:e.text||e.value})});return m.exports.useEffect(()=>{var l,c,d;((l=n.current)==null?void 0:l.scrollWidth)&&((c=n.current)==null?void 0:c.scrollWidth)>((d=n.current)==null?void 0:d.clientWidth)&&o(!0)},[]),w("div",{className:N(t,e.className),style:e.style,children:[e.addonBefore,e.prefix,i("span",{ref:n,children:r?a:e.value}),e.suffix,e.addonAfter]})}));function ut(){return typeof BigInt=="function"}function we(e){let t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t=`0${t}`);const r=t||"0",o=r.split("."),s=o[0]||"0",a=o[1]||"0";s==="0"&&a==="0"&&(n=!1);const l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:s,decimalStr:a,fullStr:`${l}${r}`}}function St(e){const t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Ne(e){const t=String(e);if(St(e)){let n=Number(t.slice(t.indexOf("e-")+2));const r=t.match(/\.(\d+)/);return(r==null?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&Ln(t)?t.length-t.indexOf(".")-1:0}function Fn(e){let t=String(e);if(St(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ut()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ut()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Ne(t))}return we(t).fullStr}function Ln(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}class K{constructor(t){if(this.origin="",this.number=0,this.empty=!1,!t&&t!==0||!String(t).trim()){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}negate(){return new K(-this.toNumber())}add(t){if(this.isInvalidate())return new K(t);const n=Number(t);if(Number.isNaN(n))return this;const r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new K(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new K(Number.MIN_SAFE_INTEGER);const o=Math.max(Ne(this.number),Ne(n));return new K(r.toFixed(o))}isEmpty(){return this.empty}isNaN(){return Number.isNaN(this.number)}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toNumber()===(t==null?void 0:t.toNumber())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.number}toString(t=!0){return t?this.isInvalidate()?"":Fn(this.number):this.origin}}class ue{constructor(t){if(this.origin="",this.negative=!1,this.integer=BigInt(0),this.decimal=BigInt(0),this.decimalLen=0,this.empty=!1,this.nan=!1,!t&&t!==0||!String(t).trim()){this.empty=!0;return}if(this.origin=String(t),t==="-"){this.nan=!0;return}let n=t;if(St(n)&&(n=Number(n)),n=typeof n=="string"?n:Fn(n),Ln(n)){const r=we(n);this.negative=r.negative;const o=r.trimStr.split(".");this.integer=BigInt(o[0]);const s=o[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}getMark(){return this.negative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(t){const n=`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(t,"0")}`;return BigInt(n)}negate(){const t=new ue(this.toString());return t.negative=!t.negative,t}add(t){if(this.isInvalidate())return new ue(t);const n=new ue(t);if(n.isInvalidate())return this;const r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),o=this.alignDecimal(r),s=n.alignDecimal(r),a=(o+s).toString(),{negativeStr:l,trimStr:c}=we(a),d=`${l}${c.padStart(r+1,"0")}`;return new ue(`${d.slice(0,-r)}.${d.slice(-r)}`)}isEmpty(){return this.empty}isNaN(){return this.nan}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(t){return this.toString()===(t==null?void 0:t.toString())}lessEquals(t){return this.add(t.negate().toString()).toNumber()<=0}toNumber(){return this.isNaN()?NaN:Number(this.toString())}toString(t=!0){return t?this.isInvalidate()?"":we(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin}}function si(e){return ut()?new ue(e):new K(e)}function Tn(e,t,n){if(e==="")return"";const{negativeStr:r,integerStr:o,decimalStr:s}=we(e),a=`${t}${s}`,l=`${r}${o}`;if(n&&n>=0){const c=Number(s[n]);if(c>=5){const d=si(e).add(`${r}0.${"0".repeat(n)}${10-c}`);return Tn(d.toString(),t,n)}return n===0?l:`${l}${t}${s.padEnd(n,"0").slice(0,n)}`}return a===".0"?l:`${l}${a}`}const ai=M(on,T(e=>{const{step:t,value:n,addonBefore:r,addonAfter:o}=e;if(!O(e.value))return i("div",{children:"-"});const s=Math.max(Ne(String(n)),Ne(t));return w("div",{children:[r,Tn(String(n),".",s),o]})})),oe=m.exports.createContext({});const kt=e=>{let t=m.exports.useContext(st);const n=m.exports.useContext(at),r=u(u(u({},t==null?void 0:t.scope),n),e.scope),o=u(u({},t==null?void 0:t.components),e.components);return i(st.Provider,{value:{scope:r,components:o},children:i(at.Provider,{value:r,children:e.children})})},Dn=m.exports.createContext({}),li=m.exports.createContext(null),ci=e=>{const{record:t,children:n}=e;return i(Dn.Provider,{value:t,children:n})},ui=e=>{const{index:t,children:n}=e;return i(li.Provider,{value:t,children:n})};function Pt(){return m.exports.useContext(Dn)}function On(e){return be.isSchemaInstance(e)?e:e.name?new be({type:"object",properties:{[e.name]:e}}):new be(e)}const di=e=>m.exports.useMemo(()=>On(e),[]),zn=e=>{const s=e,{components:t,scope:n,schema:r}=s,o=k(s,["components","scope","schema"]);return i(kt,{inherit:!0,components:t,scope:n,children:i(F,p(u({},o),{schema:On(r)}))})},fi=e=>{const o=e,{schema:t}=o,n=k(o,["schema"]),r=di(t);return i(zn,p(u({},n),{schema:r}))},fe=e=>{const r=e,{memoized:t}=r,n=k(r,["memoized"]);return t?i(fi,u({},n)):i(zn,u({},n))},mi=(e="")=>`${e}${ee()}`;be.silent(!0);const hi={silent:!0,compile(e,t={}){try{return new Function("$root",`with($root) { return (${e}); }`)(t)}catch{return`{{${e}}}`}}};be.registerCompiler(hi.compile);const pi=e=>{const{components:t,children:n}=e,[,r]=m.exports.useState(ee()),[o,s]=m.exports.useState(ee()),a=e.form||m.exports.useMemo(()=>qe(),[o]),{t:l}=Or(),c=p(u({},e.scope),{t:l,randomString:mi});return i(En.Provider,{value:{scope:c,components:t,reset:()=>s(ee()),refresh:()=>r(ee())},children:i(Ue,{form:a,children:i(kt,{inherit:!0,scope:c,components:t,children:n})})})},Nt=e=>{const{children:t}=e;return i(kt,{components:{Action:Ct,ArrayBase:P,ArrayItems:Xe,ArrayTable:Je,Avatar:Xo,CardItem:Yo,Cascader:Jo,Checkbox:vt,ColorSelect:Zo,DatePicker:ei,Divider:ti,DropdownMenu:Ze,Form:Mn,FormButtonGroup:U,FormGrid:J,FormItem:Sn,FormLayout:Q,Grid:wt,Input:_n,InputNumber:ai,List:$t,Menu:vi,Money:Pi,Password:Ai,Radio:At,Reset:Ri,Select:_i,Space:Fi,Submit:xt,Switch:Li,Tabs:Gn,TimePicker:qn,Upload:Rt},children:t})},ge=A(e=>{const t=L();return w("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:16},children:[i(ne,{children:t.mapProperties((n,r)=>{var o;return((o=n["x-component-props"])==null?void 0:o.position)!=="left"?null:i(F,{name:r,schema:n},r)})}),i(ne,{children:t.mapProperties((n,r)=>{var o;return((o=n["x-component-props"])==null?void 0:o.position)==="left"?null:i(F,{name:r,schema:n},r)})})]})});ge.RowSelection=A(e=>{var d,f;const c=e,{confirmProps:t,forSubmit:n,afterReload:r}=c,o=k(c,["confirmProps","forSubmit","afterReload"]),s=E(),a=m.exports.useContext(oe),l=()=>{n&&he(n,{ids:a.selectedRowKeys}).then(()=>{var h,y;(h=a.setSelectedRowKeys)==null||h.call(a,[]),r&&((y=a.result)==null||y.run())})};return e.confirmProps?i(sn,p(u({},e.confirmProps),{onOk:l,children:i(_,p(u({},o),{disabled:!((d=a.selectedRowKeys)==null?void 0:d.length),icon:e.icon&&typeof e.icon=="string"?i(Z,{type:e.icon}):e.icon,children:s.title}))})):i(_,p(u({},o),{disabled:!((f=a.selectedRowKeys)==null?void 0:f.length),onClick:l,icon:e.icon&&typeof e.icon=="string"?i(Z,{type:e.icon}):e.icon,children:s.title}))});ge.Reload=A(e=>{const s=e,{data:t}=s,n=k(s,["data"]),r=E(),o=m.exports.useContext(oe);return i(_,p(u({},n),{icon:e.icon&&typeof e.icon=="string"?i(Z,{type:e.icon}):e.icon,onClick:()=>{var a;(a=o.reload)==null||a.call(o,t)},children:r.title}))});ge.RecordFormDrawer=A(e=>{const t=m.exports.useContext(oe),n=Pt();return i(Pn,p(u({},e),{forInitVariables:n,forSubmitSuccess:()=>{var r;(r=t.result)==null||r.run()}}))});ge.RecordFormModal=A(e=>{const t=m.exports.useContext(oe),n=Pt();return i(Nn,p(u({},e),{forInitVariables:n,forSubmitSuccess:()=>{var r;(r=t.result)==null||r.run()}}))});ge.RecordDelete=A(e=>{const d=e,{confirmProps:t,forSubmit:n}=d,r=k(d,["confirmProps","forSubmit"]),o=E(),s=hn(),a=m.exports.useContext(oe),l=Pt(),c=()=>{n&&he(n,l).then(()=>{var f;(f=a.result)==null||f.run()})};return i(sn,p(u({title:s.List.confirmDelete},e.confirmProps),{onOk:c,children:i(_,p(u({},r),{icon:e.icon&&typeof e.icon=="string"?i(Z,{type:e.icon}):e.icon,children:o.title}))}))});const gi=e=>{const{prefixCls:t,locale:n}=m.exports.useContext(me.ConfigContext),r={};return Array.isArray(e.enum)&&e.enum.length?(r.filters=e.enum.map(o=>Se.exports.isObject(o)?{text:(o==null?void 0:o.label)||(o==null?void 0:o.value),value:o==null?void 0:o.value}:{text:o,value:o}),r.filterMultiple=!0):e["x-component"]==="Switch"||e["x-component"]==="Checkbox"?(r.filters=[{text:"Yes",value:!0},{text:"No",value:!1}],r.filterMultiple=!1):(r.filterIcon=i(jr,{}),r.filterDropdown=({filterKeys:o,setFilterKeys:s,confirm:a})=>{var c;let l=null;switch(e["x-component"]){case"DatePicker":case"DatePicker.RangePicker":l=i(Y.RangePicker,{size:"small",mode:(c=e["x-component-props"])==null?void 0:c.mode,value:o,onChange:d=>s==null?void 0:s(d)});break;case"TimePicker":case"TimePicker.RangePicker":l=i(He.RangePicker,{size:"small",value:o,onChange:d=>s==null?void 0:s(d)});break;case"InputNumber":case"Money":case"Rate":case"Slider":default:l=i(Ae.Search,{size:"small",value:Array.isArray(o)?o[0]:o,onChange:d=>s==null?void 0:s(d?[d]:[])});break}return w("div",{className:`${t}-table-filters-popup`,children:[i("div",{style:{padding:"4px 12px",fontSize:"14PX"},children:l}),w("div",{className:`${t}-table-filters-btn`,children:[i(_,{onClick:()=>s==null?void 0:s([]),size:"mini",style:{marginRight:8},children:n==null?void 0:n.Table.resetText}),i(_,{onClick:()=>a==null?void 0:a(),type:"primary",size:"mini",children:n==null?void 0:n.Table.okText})]})]})}),r},yi=(e,t,n)=>e.reduce((r,{name:o,columnProps:s,schema:a,display:l},c)=>{if(l&&l!=="visible"||!Ye(a))return r;let d;return a.reduceProperties((f,h)=>{d||(d=h),h["x-decorator"]=void 0,h["x-decorator-props"]=void 0,h["x-read-pretty"]=!0}),r.concat(u(p(u({align:"center"},s),{key:c,dataIndex:o,render:(f,h)=>{const y=t.indexOf(h);return i(ui,{index:y,children:i(ci,{record:h,children:i(F,{schema:a,name:y,onlyRenderProperties:!0})})})}}),d&&n&&s.filterable?gi(d):void 0))},[]),xi=A(({source:e,onSearch:t})=>{const n=hn(),{grid:r,toggle:o,expanded:s,type:a}=bo(2),[l]=et.useForm(),c=[];e.forEach(x=>{var g;((g=x.schema["x-component-props"])==null?void 0:g.filterable)&&x.schema.reduceProperties((C,v)=>{var b;v.title||(v.title=(b=x.schema["x-component-props"])==null?void 0:b.title),c.push(v)})});const d=()=>{const x=l.getFieldsValue();t==null||t(Se.exports.pickBy(x,O))},f=()=>{l.resetFields(),t==null||t({})},h=()=>w(U,{align:"right",style:{marginBottom:16,width:"100%",justifyContent:"end"},children:[i(_,{type:"primary",icon:i(Gr,{}),onClick:d,children:n.List.search},"submit"),i(_,{icon:i(Wr,{}),onClick:f,children:n.List.reset},"reset")]}),y=()=>a==="collapsible"?w(Pe,{children:[h(),i(U,{align:"right",style:{marginLeft:8,marginTop:14},children:i(_,{type:"text",icon:s?i(Qt,{}):i(Zt,{}),onClick:o})})]}):h();return i("div",{style:{borderBottom:"1px solid var(--color-border-1)",display:"flex",marginBottom:16},children:i(et,{form:l,layout:"vertical",children:w(J,{grid:r,children:[c.map(x=>{var v,b;let g=null,C=1;switch(x["x-component"]){case"Checkbox":case"Switch":g=i(de,{options:[{label:"Yes",value:!0},{label:"No",value:!1}],allowClear:!0});break;case"DatePicker":case"DatePicker.RangePicker":g=i(Y.RangePicker,{allowClear:!0,mode:(v=x["x-component-props"])==null?void 0:v.mode}),C=2;break;case"TimePicker":case"TimePicker.RangePicker":g=i(He.RangePicker,{allowClear:!0}),C=2;break;case"InputNumber":case"Money":case"Rate":case"Slider":default:((b=x.enum)==null?void 0:b.length)?g=i(de,{options:x.enum,mode:"multiple",allowClear:!0}):g=i(Ae,{allowClear:!0});break}return i(J.GridColumn,{gridSpan:C,children:i(et.Item,{label:x.title,field:x.name,style:{display:"block",marginBottom:16},children:g})},x.name)}),i(J.GridColumn,{gridSpan:-1,style:{display:"flex",justifyContent:"space-end"},children:y()})]})})})}),Ci=A(e=>{var c,d;const l=e,{reload:t}=l,n=k(l,["reload"]),r=E(),o=L(),s=In(),a=yi(s,(c=r.value)==null?void 0:c.slice(),e.filter==="light");return w(Pe,{children:[e.filter===!0&&i(xi,{source:s,onSearch:f=>t==null?void 0:t({filter:f})}),i(F,{schema:o,onlyRenderProperties:!0}),i(tn,p(u({rowKey:"id"},n),{columns:a,data:(d=r.value)==null?void 0:d.slice()}))]})}),Bn=A(e=>{var a;const t=m.exports.useContext(oe),n=E(),r=L(),o=m.exports.useMemo(()=>qe(),[]),s=oi(o.createArrayField(p(u({},n.props),{basePath:""})));return m.exports.useEffect(()=>{var l;o.setValues({[r.name]:(l=t.tableProps)==null?void 0:l.data})},[(a=t.tableProps)==null?void 0:a.data]),i(zr.Provider,{value:o,children:i(Br.Provider,{value:s,children:i(Ci,p(u(u({},e),t.tableProps),{rowSelection:e.rowSelection?p(u({},e.rowSelection),{onChange:t.setSelectedRowKeys}):void 0,reload:t.reload}))})})});Bn.Column=()=>i(m.exports.Fragment,{});var bi=Bn;const $t=A(e=>{var h,y;const t=Re(e.forInit,p(u({},e.forInitVariables),{page:1,limit:10})),n=((h=t.data)==null?void 0:h.total)||0,{page:r=1,limit:o=10}=t.params[0]||{},s=x=>{x?t.run(u(u({page:r,limit:o},t.params[0]),x)):t.refresh()},a=(x,g)=>{let C=g<=0?1:g;const v=x<=0?1:x,b=Math.ceil(n/v);C>b&&(C=Math.max(1,b)),s({page:C,limit:v})},l=x=>{a(r,x)},c=(x,g,C)=>{s({page:x.current,limit:x.pageSize,filter:C,sorter:{[g.field]:g.direction==="ascend"?1:g.direction==="descend"?-1:0}})},[d,f]=m.exports.useState([]);return i(oe.Provider,{value:{result:t,reload:m.exports.useCallback(s,[]),tableProps:{data:((y=t.data)==null?void 0:y.list)||[],loading:t.loading,onChange:m.exports.useCallback(c,[]),pagination:n?{current:r,pageSize:o,total:n,onChange:a,onPageSizeChange:l}:!1},selectedRowKeys:d,setSelectedRowKeys:m.exports.useCallback(f,[])},children:e.children})});$t.Action=ge;$t.Table=bi;const tt=e=>e.icon?w(Pe,{children:[i(Z,{style:{fontSize:"18px",verticalAlign:"text-bottom"},type:e.icon}),e.title]}):w(Pe,{children:[i("div",{style:{width:"12px",height:"18px",display:"inline-block"}}),e.title]}),jn=(e=[])=>{const t=o=>Array.isArray(o.children)&&o&&o.children.length>0?i(re.SubMenu,{title:tt(o),children:jn(o.children)},o.key||o.target||ee()):i(re.Item,{disabled:o.disabled,children:n(o)},o.key||o.target||ee()),n=o=>{const s=r(o.target||"/");return wo(s)?i("div",{title:o.title,onClick:a=>{var l;a.stopPropagation(),a.preventDefault(),(l=window==null?void 0:window.open)==null||l.call(window,s)},children:tt(o)}):tt(o)},r=o=>o&&o.indexOf("http")===0?o:`/${o||""}`.replace(/\/+/g,"/");return e.map(o=>t(o)).filter(o=>o)},vi=e=>{const r=e,{menuData:t}=r,n=k(r,["menuData"]);return i(re,p(u({},n),{children:jn(t)}))},wi=e=>e==="USD"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}):new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),Si=e=>e==="USD"?"$":"\xA5",ki=e=>{const r=e,{currency:t}=r,n=k(r,["currency"]);return i(on,p(u({},n),{min:0,prefix:Si(t),formatter:o=>o?`${o.toString().split(".").length===2?Number(o).toFixed(2):Number(o)}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:o=>o.replace(/,/g,"")}))},Pi=M(ki,T(e=>{const{value:t,currency:n}=e;if(!O(e.value))return i("div",{children:"-"});const r=wi(n);return i("div",{children:r.format(t)})})),ce=function(e){return e>=48&&e<=57},je=function(e){return e>=97&&e<=122},Ge=function(e){return e>=65&&e<=90},jt=function(e){return!(je(e)||Ge(e)||ce(e))},nt=function(e){return je(e)||Ge(e)},Ni=e=>{if(!e)return 0;let t=0,n=0,r=0,o=0,s=0,a=0,l=0,c=0,d=0;const f=()=>t+n+r+o,h=()=>{let g=t>0?1:0;return g+=n>0?1:0,g+=r>0?1:0,g+=o>0?1:0,g>2&&f()>=8?g+1:0};for(let g=0;g<e.length;g++){const C=e.charCodeAt(g);ce(C)?(t++,g!==0&&g!==e.length-1&&s++,g>0&&ce(e.charCodeAt(g-1))&&c++):je(C)?(n++,g>0&&je(e.charCodeAt(g-1))&&c++):Ge(C)?(r++,g>0&&Ge(e.charCodeAt(g-1))&&c++):(o++,g!==0&&g!==e.length-1&&s++);let v=!1;for(let b=0;b<e.length;b++)e[g]===e[b]&&g!==b&&(v=!0,l+=Math.abs(e.length/(b-g)));if(v){a++;const b=e.length-a;l=Math.ceil(b?l/b:l)}if(g>1){const b=e.charCodeAt(g-1),$=e.charCodeAt(g-2);if(nt(C)){if(nt(b)&&nt($)){const R=e.toLowerCase(),D=R.charCodeAt(g),V=R.charCodeAt(g-1),B=R.charCodeAt(g-2);D-V===V-B&&Math.abs(D-V)===1&&d++}}else ce(C)?ce(b)&&ce($)&&C-b===b-$&&Math.abs(C-b)===1&&d++:jt(b)&&jt($)&&C-b===b-$&&Math.abs(C-b)===1&&d++}}let y=0;const x=f();return y+=4*x,n>0&&(y+=2*(x-n)),r>0&&(y+=2*(x-r)),t!==x&&(y+=4*t),y+=6*o,y+=2*s,y+=2*h(),x===n+r&&(y-=x),x===t&&(y-=t),y-=l,y-=2*c,y-=3*d,y=y<0?0:y,y=y>100?100:y,y>=80?100:y>=60?80:y>=40?60:y>=20?40:20},$i=e=>q(e.children)?e.children(Ni(String(e.value))):i(m.exports.Fragment,{children:e.children}),Ai=M(e=>{const a=e,{value:t,className:n,checkStrength:r}=a,o=k(a,["value","className","checkStrength"]),s={position:"absolute",zIndex:1,height:8,top:0,background:"#fff",width:1,transform:"translate(-50%, 0)"};return w("span",{className:n||"",children:[i(Ae.Password,p(u({},o),{value:t})),r&&i($i,{value:String(t),children:l=>w("div",{style:{background:"#e0e0e0",marginBottom:3,position:"relative"},children:[i("div",{style:p(u({},s),{left:"20%"})}),i("div",{style:p(u({},s),{left:"40%"})}),i("div",{style:p(u({},s),{left:"60%"})}),i("div",{style:p(u({},s),{left:"80%"})}),i("div",{style:{position:"relative",backgroundImage:"-webkit-linear-gradient(left, #ff5500, #ff9300)",transition:"all 0.35s ease-in-out",height:8,width:"100%",marginTop:5,clipPath:`polygon(0 0,${l}% 0,${l}% 100%,0 100%)`}})]})})]})},T(e=>e.value?i("div",{children:"********"}):i("div",{children:"-"}))),At=M(an,G({value:"checked",onInput:"onChange"}));At.__ARCO_RADIO=!0;At.Group=M(an.Group,G({dataSource:"options"}),T(e=>{const{value:t}=e;if(!O(t))return i("div",{children:"-"});const r=E().dataSource||[];return i("div",{children:r.filter(o=>o.value===t).map((o,s)=>i(ke,{color:o.color,children:o.label},s))})}));const Ri=s=>{var a=s,{forceClear:e,validate:t,onResetValidateSuccess:n,onResetValidateFailed:r}=a,o=k(a,["forceClear","validate","onResetValidateSuccess","onResetValidateFailed"]);const l=ht();return i(_,p(u({},o),{onClick:c=>{o.onClick&&o.onClick(c)===!1||l.reset("*",{forceClear:e,validate:t}).then(n).catch(r)},children:o.children}))},dt=(e,t)=>{e=ze(e).map(r=>typeof r=="object"?r.value:r);const n=r=>{let o=[];for(const s of r){e.includes(s.value)&&o.push(s);const a=s.options;Array.isArray(a)&&o.push(...n(a))}return o};return n(t)},Ii=e=>!O(e)||typeof e=="object"&&Object.keys(e).length===0,Mi=e=>{const l=e,{value:t,options:n,onChange:r,mode:o}=l,s=k(l,["value","options","onChange","mode"]);return i(de,u({value:(c=>{var h;if(Ii(c))return;const d=ze(c).filter(y=>y).map(y=>typeof y=="object"?y.value:y),f=(h=dt(d,n))==null?void 0:h.map(y=>({label:y.label,value:y.value}));return o&&["tags","multiple"].includes(o)?f:f.shift()})(t),allowClear:!0,labelInValue:!0,options:n,onChange:c=>{const d=dt(ze(c).map(f=>f.value),n);o&&["tags","multiple"].includes(o)?r==null||r(d,n):r==null||r(d.shift(),n)},mode:o},s))},Ei=A(e=>{var o;const t=E();if(!O(e.value))return i("div",{children:"-"});if(qr(t)&&((o=t==null?void 0:t.value)==null?void 0:o.length)===0)return i("div",{children:"-"});const n=t.dataSource||e.options||[],r=dt(t.value,n);return i("div",{children:r.map((s,a)=>i(ke,{color:s.color,children:s.label},a))})}),_i=M(e=>{const r=e,{objectValue:t}=r,n=k(r,["objectValue"]);return t?i(Mi,u({},n)):i(de,p(u({},n),{value:n.value||void 0}))},G({dataSource:"options",loading:!0},(e,t)=>p(u({},e),{suffixIcon:(t==null?void 0:t.loading)||(t==null?void 0:t.validating)?i($e,{}):e.suffixIcon})),T(Ei)),Fi=e=>{var o;const t=L(),n=Ie();let{split:r}=e;return r==="divider"&&(r=i(rn,{type:"vertical",style:{margin:"0 2px"}})),i(ne,p(u({size:(o=e.size)!=null?o:n==null?void 0:n.spaceGap},e),{split:r,children:t.mapProperties((s,a)=>i(F,{name:a,schema:s},a))}))},Li=M(Ur,G({value:"checked"})),Gn=e=>{const t=L();return i(Dt,p(u({},e),{children:t.mapProperties((n,r)=>{var o,s;return i(Dt.TabPane,{title:((o=n["x-component-props"])==null?void 0:o.icon)?w("span",{children:[i(Z,{type:(s=n["x-component-props"])==null?void 0:s.icon,style:{marginRight:6}}),n.title]}):n.title,children:i(F,{name:r,schema:n,onlyRenderProperties:!0})},r)})}))};Gn.TabPane=()=>i(m.exports.Fragment,{});const Wn=e=>{const t=()=>We(e.value)?e.value.join("~"):e.value;return i("div",{className:e.className,style:e.style,children:t()})},qn=M(He,T(Wn));qn.RangePicker=M(He.RangePicker,T(Wn));const Ti=e=>{const t=Array.isArray(e)?e:e?[e]:[];return t&&t.length?t.map((n,r)=>({uid:`${r}`,url:n})):[]},Di=M(e=>{const o=e,{onChange:t,value:n}=o,r=k(o,["onChange","value"]);return i(ln,p(u({},r),{withCredentials:!0,defaultFileList:Ti(n),onChange:s=>{t==null||t(s.map(a=>a.url))}}))},T(e=>{const{value:t}=e;return O(t)?i(ne,{direction:"vertical",children:i(Ot.PreviewGroup,{infinite:!0,children:i(ne,{children:t.map((n,r)=>i(Ot,{src:n,width:80},r))})})}):i("div",{children:"-"})})),Oi=M(e=>{const c=e,{onChange:t,value:n}=c,r=k(c,["onChange","value"]),[o,s]=m.exports.useState({url:n,uid:"-1"}),a=pn(),l=`${a}-upload-list-item${o&&o.status==="error"?" is-error":""}`;return i(ln,p(u({},r),{withCredentials:!0,showUploadList:!1,onChange:(d,f)=>{if(f.status=="done"){const{data:h={}}=f.response;t==null||t(h.url),s(p(u({},o),{url:h.url}))}},children:i("div",{className:l,style:{marginTop:0},children:o&&o.url?w("div",{className:`${a}-upload-list-item-picture custom-upload-avatar`,children:[i("img",{src:o.url}),i("div",{className:`${a}-upload-list-item-picture-mask`,children:i(Vr,{})}),o.status==="uploading"&&(o.percent||0)<100&&i(Hr,{percent:o.percent||0,type:"circle",size:"mini",style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}})]}):i("div",{className:`${a}-upload-trigger-picture`,children:i("div",{className:`${a}-upload-trigger-picture-text`,children:i(Jt,{})})})})}))},T(e=>{const{value:t}=e;return O(t)?i(it,{children:i("img",{alt:"avatar",src:t})}):i("div",{children:"-"})})),Rt=e=>i(m.exports.Fragment,{});Rt.Attachment=Di;Rt.Avatar=Oi;const zi=p(u({},cn),{Popconfirm:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"},List:{search:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",confirmDelete:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F"}}),Bi=p(u({},cn),{Popconfirm:{okText:"OK",cancelText:"Cancel"},List:{search:"Search",reset:"Reset",confirmDelete:"Are you sure you want to delete?"}}),Qe=()=>i("div",{style:{width:"100vw",height:"100vh",position:"relative"},children:i(un,{size:100,tip:"Loading...",style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}})}),ji=({children:e})=>e||null,Gi=(...e)=>{const t=[...e,ji].reduce((n,r)=>{const[o,s]=Array.isArray(n)?n:[n],[a,l]=Array.isArray(r)?r:[r];return({children:c})=>i(o,p(u({},s),{children:i(a,p(u({},l),{children:c}))}))});return n=>r=>i(m.exports.Suspense,{fallback:i(Qe,{}),children:i(t,{children:n&&i(n,u({},r))})})};m.exports.createContext({});const Wi=m.exports.createContext({title:null,setTitle(){}}),qi=e=>{const{addonBefore:t,addonAfter:n}=e,[r,o]=m.exports.useState(""),s=r?`${t?`${t} | `:""}${r||""}${n?` | ${n}`:""}`:"Li Admin";return w(Wi.Provider,{value:{title:r,setTitle:o},children:[i(Xr,{children:i("title",{children:s})}),e.children]})},Ui=()=>{try{return JSON.parse(localStorage.getItem("li-lang")||'""')}catch{return}},Un=Yr.createInstance();Un.use(Jr).init({debug:!1,lng:Ui()||navigator.language});const Vn=e=>m.exports.createElement("svg",u({width:33,height:33,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),m.exports.createElement("g",{clipPath:"url(#clip0)"},m.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.37754 16.9795L12.7498 9.43027C14.7163 7.41663 17.9428 7.37837 19.9564 9.34482C19.9852 9.37297 20.0137 9.40145 20.0418 9.43027L20.1221 9.51243C22.1049 11.5429 22.1049 14.7847 20.1221 16.8152L12.7498 24.3644C10.7834 26.378 7.55686 26.4163 5.54322 24.4498C5.5144 24.4217 5.48592 24.3932 5.45777 24.3644L5.37754 24.2822C3.39468 22.2518 3.39468 19.0099 5.37754 16.9795Z",fill:"#12D2AC"}),m.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0479 9.43034L27.3399 16.8974C29.3674 18.9735 29.3674 22.2883 27.3399 24.3644C25.3735 26.3781 22.147 26.4163 20.1333 24.4499C20.1045 24.4217 20.076 24.3933 20.0479 24.3644L12.7558 16.8974C10.7284 14.8213 10.7284 11.5065 12.7558 9.43034C14.7223 7.4167 17.9488 7.37844 19.9624 9.34489C19.9912 9.37304 20.0197 9.40152 20.0479 9.43034Z",fill:"#307AF2"}),m.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1321 9.52163L23.6851 13.1599L16.3931 20.627L9.10103 13.1599L12.6541 9.52163C14.6707 7.45664 17.9794 7.4174 20.0444 9.434C20.074 9.46286 20.1032 9.49207 20.1321 9.52163Z",fill:"#0057FE"})),m.exports.createElement("defs",null,m.exports.createElement("clipPath",{id:"clip0"},m.exports.createElement("rect",{width:26,height:19,fill:"white",transform:"translate(3.5 7)"})))),Hn=m.exports.createContext({components:{}}),Xn=m.exports.createContext({});function Vi(e){if(!e)return()=>null;const{components:t}=m.exports.useContext(Hn);return Zr(t,e)||(()=>null)}function Hi(){return m.exports.useContext(Xn)}const Xi=e=>e,Yi=(e,t,n)=>{const r=JSON.parse(e);return t==null||t.forEach(o=>{Se.exports.unset(r,n?Se.exports.trimStart(o,n+"."):o)}),r},Gt=()=>i("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:i(un,{})}),Ji=e=>{const{hidden:t,scope:n,uid:r,onSuccess:o,schemaTransform:s=Xi}=e,{reset:a}=ii(),{data:l,loading:c}=Re("@getAppView",{key:r},{refreshDeps:[r],onSuccess(d){o&&o(d),a&&a()}});return c?i(Gt,{}):t?i(Gt,{}):i(fe,{memoized:!0,scope:n,schema:s(l?Yi(l.schema,l.removes,r):{})})},Zi=e=>e.uid?i(Ji,u({},e)):null,Qi="_layout_6j37y_1",Ki="_icon_6j37y_87",es="_spin_6j37y_109",ts="_navbar_6j37y_116",ns="_left_6j37y_124",rs="_logo_6j37y_128",os="_right_6j37y_142",is="_username_6j37y_156",ss="_round_6j37y_159";var j={layout:Qi,"layout-navbar":"_layout-navbar_6j37y_5","layout-navbar-hidden":"_layout-navbar-hidden_6j37y_14","layout-sider":"_layout-sider_6j37y_17","collapse-btn":"_collapse-btn_6j37y_51","menu-wrapper":"_menu-wrapper_6j37y_68",icon:Ki,"icon-empty":"_icon-empty_6j37y_91","layout-content":"_layout-content_6j37y_96","layout-content-wrapper":"_layout-content-wrapper_6j37y_103","layout-breadcrumb":"_layout-breadcrumb_6j37y_106",spin:es,navbar:ts,left:ns,logo:rs,"logo-name":"_logo-name_6j37y_135",right:os,username:is,round:ss,"dropdown-icon":"_dropdown-icon_6j37y_165","fixed-settings":"_fixed-settings_6j37y_170"};const Yn=(e,t)=>(t||[]).reduce((n,r)=>{if(e==r.key){const o=r.path.split(".");return n.concat(o.slice(0,o.length-1))}return r.children?n.concat(Yn(e,r.children)||[]):n},[]),It=m.exports.createContext({}),as=()=>{var b,$;const e=Hi(),t=Qr(),n=Kr(),{title:r="Li Admin",logo:o,navitems:s=[],home:a,menus:l=[],entry:c}=e.config,[d,f]=zt("li-theme",{defaultValue:((b=window.matchMedia)==null?void 0:b.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light"}),[h,y]=zt("li-lang",{defaultValue:navigator.language});m.exports.useEffect(()=>{d==="dark"?document.body.setAttribute("arco-theme","dark"):document.body.removeAttribute("arco-theme")},[d]);const x=Re("@getCurrentUser");if(x.loading)return i(Qe,{});if(x.error)return i(dn,{to:c+"/sign"});const g=n.params.name||a||(($=l[0])==null?void 0:$.key),C=R=>{t.push(c+`/${R}`)},v={app:{title:r,logo:o,home:a,entry:c},lang:h,currentUser:x.data};return i(eo,{locale:h==="en-US"?Bi:zi,componentConfig:{Card:{bordered:!1},List:{bordered:!1},Table:{border:!1}},children:i(It.Provider,{value:p(u({},v),{lang:h,setLang:y,theme:d,setTheme:f}),children:w(le,{className:j.layout,children:[i("div",{className:j["layout-navbar"],children:w("div",{className:j.navbar,children:[i("div",{className:j.left,children:w("div",{className:j.logo,children:[o?i("img",{src:o}):i(Vn,{}),i("div",{className:j["logo-name"],children:r})]})}),i("ul",{className:j.right,children:s.map((R,D)=>i("li",{children:i(fe,{schema:R,scope:{global:v}})},D.toString()))})]})}),w(le,{children:[i(le.Sider,{className:j["layout-sider"],trigger:null,collapsible:!0,breakpoint:"xl",width:220,style:{paddingTop:60},children:i("div",{className:j["menu-wrapper"],children:i(fe,{schema:{type:"void",properties:{menu:{"x-component":"Menu","x-component-props":{defaultSelectedKeys:[g],defaultOpenKeys:Yn(g,l),onClickMenuItem:"{{ onClickMenuItem }}",menuData:l}}}},scope:{onClickMenuItem:C,global:v}})})}),i(le,{className:j["layout-content"],style:{paddingLeft:220,paddingTop:60},children:i("div",{className:j["layout-content-wrapper"],children:i(le.Content,{children:i(Zi,{uid:g})})})})]})]})})})};m.exports.createContext({});m.exports.createContext(null);function Jn(e){const{routes:t=[]}=e;return t.length?i(to,{children:t.map((n,r)=>n.type=="redirect"?i(dn,{to:n.to,push:n.push,from:n.from,path:n.path,exact:n.exact,strict:n.strict},r):(!n.path&&Array.isArray(n.routes)&&(n.path=n.routes.map(o=>o.path)),i(no,{path:n.path,exact:n.exact,strict:n.strict,sensitive:n.sensitive,render:o=>i(Xn.Provider,{value:p(u({},n),{type:"route"}),children:i(ls,p(u({},o),{route:n}))})},r)))}):null}function ls(e){var n;const t=Vi((n=e==null?void 0:e.route)==null?void 0:n.component);return i(t,p(u({},e),{children:i(Jn,{routes:e.route.routes})}))}function cs(e){const{children:t,components:n}=e;return i(Hn.Provider,{value:{components:n},children:t})}const us=fn(e=>{const{lang:t,setLang:n}=m.exports.useContext(It);return i(ro,{triggerElement:i(mn,{shape:"circle",type:"secondary",style:{fontSize:"16px"},icon:i(oo,{})}),options:[{label:"\u4E2D\u6587",value:"zh-CN"},{label:"English",value:"en-US"}],value:t,triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0},trigger:"hover",onChange:r=>{n==null||n(r)}})}),ds=fn(e=>{const{theme:t,setTheme:n}=m.exports.useContext(It);return i(mn,p(u({shape:"circle",type:"secondary",style:{fontSize:"16px"}},e),{icon:t==="dark"?i(io,{}):i(so,{}),onClick:()=>n==null?void 0:n(t==="light"?"dark":"light")}))}),fs="_container_1yw5n_1",ms="_top_1yw5n_7",hs="_header_1yw5n_11",ps="_logo_1yw5n_21",gs="_title_1yw5n_30",ys="_desc_1yw5n_35",xs="_content_1yw5n_41",Cs="_footer_1yw5n_47",bs="_icon_1yw5n_65";var H={container:fs,top:ms,header:hs,logo:ps,title:gs,desc:ys,content:xs,footer:Cs,icon:bs};const vs=e=>{const{data:t={},loading:n}=Re("@getSignView");if(n)return i(Qe,{});const{title:r="Li Admin",description:o,copyright:s="Li Admin",logo:a,body:l={}}=t;return w("div",{className:H.container,children:[w("div",{className:H.top,children:[w("div",{className:H.header,children:[i("span",{className:H.logo,children:a?i("img",{src:a}):i(Vn,{})}),i("span",{className:H.title,children:r})]}),o?i("div",{className:H.desc,children:o}):null]}),i("div",{className:H.content,children:i(fe,{schema:l})}),i(le.Footer,{className:H.footer,children:s})]})},ws=[[ao,{i18n:Un}],[pi,{components:{Link:lo,NavLink:co,LangSwitch:us,ThemeSwitch:ds}}],Nt,[qi,{addonAfter:"Li"}],[cs,{components:{SignPage:vs,Layout:as}}]],Ss=Gi(...ws)(()=>{const{data:e,loading:t}=Re("@getAppConfig"),n=(e==null?void 0:e.entry)||"/admin";return t?i(Qe,{}):i(uo,{children:i(Jn,{routes:[{type:"redirect",from:"/",to:n,exact:!0},{type:"route",path:n+"/sign",component:"SignPage",title:"Sign"},{type:"route",path:n+"/:name(.+)?",component:"Layout",title:(e==null?void 0:e.title)||"Li Admin",config:p(u({},e),{title:(e==null?void 0:e.title)||"Li Admin",entry:n})}]})})});ot.render(i(Ss,{}),document.getElementById("root"));
